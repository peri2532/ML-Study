# Matrix Basics

## 1. 행렬의 정의

행렬이란
- 수 또는 문자를 배열의 형태로 나타낸것
- 선형방정식을 간단하게 표현할 수 있음
## 행렬의 본질 (중요)

- 행렬은 단순한 숫자 배열이 아니라
  "선형변환(linear transformation)을 표현하는 도구"이다.

- 벡터를 다른 벡터로 보내는 규칙을
  좌표계에서 나타낸 것이 행렬이다.

- 즉,
  Ax 는 벡터 x를 새로운 공간으로 보내는 변환이다.
## 2. 행렬의 종류

- 정방행렬  
    - 행의 개수와 열의 개수가 같은 경우인 A_(n*n) 일 때  
    - a_11, a_22,...,a_nn은 A의 주대각선 상에 있다고 함  

- 대각행렬
    - n*n 정방행렬에서 대각선을 제외한 모든 항들이 0인 행렬

- 대각항
    - 주대각선 상에 있는 모든 성분들

- 대각합
    - 대각항의 합
    - trace(A) or tr(A)
## trace의 의미

- trace(A)는 고유값들의 합과 같다.
- 따라서 trace는 행렬이 공간을 얼마나 "확장/수축"하는지
  전체적인 크기를 요약한 값이다.

## ML 연결

- 공분산 행렬의 trace는 전체 분산(total variance)을 의미한다.
- PCA는 이 분산을 최대한 보존하는 방향을 찾는 방법이다.

## A와 B가 같은 크기의 정방행렬일 때 대각합은 다음의 특성을 가진다.
    1) tr(A^T) = tr(A)
    2) tr(A) = c tr(A)
    3) tr(A+B) = tr(A) + tr(B)
    4) tr(A-B) = tr(A) - tr(B)
    5) tr(AB) = tr(BA) (중요)

- 항등행렬(단위행렬)
    - 대각행렬이면서 대각선의 항들이 모두 1인 n*n 행렬
    - 행렬의 크기가 n*n인 항등행렬을 I_n으로 표기함
    - A*I_n = A = I_n*A 

- 영행렬
    - 성분이 모두 0인 행렬
    - 모든 i, j에 대하여 a_ij = 0인 행렬
    - $\mathbf{0}$

## 전치행렬
    - 어떤 행렬의 전치행렬은 주어진 행렬의 행과 열을 서로 바꾼 행렬
    - 행렬 A=[a_ij]를 m*n행렬이라고 할 때, b_ij = a_ji가 되는 n*m 행렬 B=[b_ij]를 A의 전치행렬이라고 하고 A^T로 나타낸다.

## 전치행렬의 기하학적 의미

- 전치는 행과 열의 역할을 바꾸는 연산이다.
- Ax에서 A^T는
  "출력 공간"에서 다시 입력 공간으로 돌아오는 연산과 연결된다.

## 전치행렬의 성질
    1) (A^T)^T = A
    2) (A $\pm$ B)^T = A^T $\pm$ B^T
    3) (cA)^T = cA^T (c는 상수)
    4) (AB)^T = B^T * A^T

## 대칭행렬
    - 어떤 정방행렬 n*n 행렬이 자신의 전치행렬과 똑같을때
    - 행렬 A가 A=A^T를 만족할때

## 대칭행렬의 중요성

- A = A^T 인 행렬은 항상 실수 고유값을 가진다.
- 서로 다른 고유값에 대응하는 고유벡터는 직교한다.

- 공분산 행렬은 항상 대칭행렬이다.
- PCA는 대칭행렬의 고유분해 문제이다.
## 교대행렬
    - A = -A^T를 만족하는 n*n 행렬

- 삼각행렬
    - 상부삼각행렬
        - 주대각선 아래에 있는 모든 항들이 0인 n*n 행렬 
    - 하부삼각행렬
        - 주대각선 위에 있는 모든 항들이 0인 n*n행렬 

## 3. 행렬의 기본 연산

- 행렬의 합
    - 같은 크기의 행렬을 각각의 성분끼리 더하는것

- 행렬의 차
    - 행렬의 덧셈의 역원을 더하는 것
    - A - B = A + (-B) 

- 행렬의 스칼라 곱
    - 행렬의 모든 성분에다가 상수 k를 각각 곱한 것

- 연산 법칙 (같은 크기의 행렬 A,B,C와 어떤 상수 c,d가 주어졌을때)
    1) A + B = B + A                     (덧셈의 교환법칙)
    2) (A + B) + C = A + (B + C)          (덧셈의 결합법칙)
    3) A + $\mathbf{0}$ = $\mathbf{0}$ + A(덧셈의 항등법칙)
    4) A + (-A) = (-A) + A = $\mathbf{0}$ (덧셈의 역원)
    5) c(A + B) = cA + cB                 (스칼라 곱의 배분법칙)
    6) (c+d)A = cA + dA                   (스칼라 곱의 배분법칙)

- 행렬의 곱
    - A=[a_ij]가 m*n행렬이고, B=[b_ij]가 n*P 크기의 행렬일 때 행렬 A와 B의 행렬의 곱은 AB = C = [c_ij]로써 m*p 행렬이 된다.
    - 두 행렬의 곱은 반드시 행과 열의 조건이 맞아야한다. 
    - 즉, 중간의 숫자가 일치할 때만 행렬의 곱이 정의될 수 있다.
    
## 행렬곱의 의미 (매우 중요)

- 행렬곱 AB는
  "선형변환 A와 B의 합성(composition)"을 의미한다.

- 먼저 B를 적용하고,
  그 다음 A를 적용한 결과가 AB이다.

- 즉, AB ≠ BA 인 이유는
  변환의 순서가 다르기 때문이다.
- 연산법칙 (A가 m*n 이고, B와 C는 행렬의 합과 곱에서 정의된 크기를 만족한다고 가정하고 k가 어떤 스칼라 값일 때)
    1) A(BC) = (AB)C         (곰셈의 결합법칙)
    2) A(B + C) = AB + AC    (왼쪽 분배법칙)
    3) (B+C)A = BA + CA      (오른쪽 분배법칙)
    4) k(AB) = (KA)B = A(KB) (스칼라 곱)
    5) I_n * A = A  = A*I_n  (행렬 곱셈의 항등식)

- 행렬의 거듭제곱
    - A가 n*n 행렬이고 k가 양의 정수라고 할 때 A^k는 A를 k번 곱한것

## 4. 풀지 못한 문제 정리
 
### 문제 1

A^2은 대각행렬이면서 A는 대각행렬이 아닌 2*2행렬을 구하시오.

### 문제 1 답

$$
A =
\begin{bmatrix}
0 & 2 \\
3 & 0 
\end{bmatrix}
$$

### 깨달은점

- 실수 원인
    - 단순하게 A^2 =0 을 만족하는걸 찾으려고 했었음 존재하지 않으므로 답이 없다고 판단함

- 새로 이해한점 
    - $$
A^2 =
\begin{bmatrix}
a_{11}a_{11} + a_{12}a_{21} & a_{11}a_{12} + a_{12}a_{22} \\
a_{21}a_{11} + a_{22}a_{21} & a_{21}a_{12} + a_{22}a_{22}
\end{bmatrix}
$$
    - 여기서 A^2이 대각행렬이 되려면 $a_{11}a_{12} + a_{12}a_{22}$ 와 $a_{21}a_{11} + a_{22}a_{21}$ 가 0이 되어야 한다.

    - 첫 번째 식에서 $a_{11}=a_{22}=0$으로 두면$a_{11}a_{12} + a_{12}a_{22} = 0$이 된다.
  이때 $a_{12}$는 0이 아닌 값으로 선택하여 A가 대각행렬이 되지 않도록 한다.

    - 두 번째 식에서도 $a_{11}=a_{22}=0$이면 $a_{21}a_{11} + a_{22}a_{21} = 0$이 된다.
  이때 $a_{21}$ 역시 0이 아닌 값으로 선택한다.
    - 따라서 $$
A =
\begin{bmatrix}
0 & b \\
c & 0 
\end{bmatrix}
$$
(단 b,c$\neq$0)인 경우 항상 A^2은 대각행렬이 된다.
